<html>
<head>
<title>housing-bubble.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #cc7832;}
.s1 { color: #a9b7c6;}
.s2 { color: #6a8759;}
.s3 { color: #6897bb;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
housing-bubble.py</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">pandas </span><span class="s0">as </span><span class="s1">pd</span>
<span class="s0">import </span><span class="s1">requests</span>
<span class="s0">import </span><span class="s1">os</span>
<span class="s0">import </span><span class="s1">base64</span>
<span class="s0">import </span><span class="s1">json</span>
<span class="s0">import </span><span class="s1">matplotlib.pyplot </span><span class="s0">as </span><span class="s1">plt</span>
<span class="s0">import </span><span class="s1">seaborn </span><span class="s0">as </span><span class="s1">sns</span>
<span class="s2">''' 
CLIENT_ID = &quot;9af64607a1ba4da7b43a435538b84048&quot; 
CLIENT_SECRET = &quot;c241bc594b3245c0bc242709d228ad6b&quot; 
#url = &quot;269Sg6nqYGEa3RdUINsLK8?si=0aa24a6bc2a541db&quot; 
 
def get_token(): 
    # Step 1 - Authorization 
    url = &quot;https://accounts.spotify.com/api/token&quot; 
    headers = {} 
    data = {} 
 
    # Encode as Base64 
    message = f&quot;{CLIENT_ID}:{CLIENT_SECRET}&quot; 
    messageBytes = message.encode('ascii') 
    base64Bytes = base64.b64encode(messageBytes) 
    base64Message = base64Bytes.decode('ascii') 
 
    headers['Authorization'] = f&quot;Basic {base64Message}&quot; 
    data['grant_type'] = &quot;client_credentials&quot; 
 
    r = requests.post(url, headers=headers, data=data) 
 
    token = r.json()['access_token'] 
    return token 
 
token = get_token() 
playlistId = &quot;269Sg6nqYGEa3RdUINsLK8&quot; 
playlistUrl = f&quot;https://api.spotify.com/v1/playlists/{playlistId}&quot; 
headers = { 
    &quot;Authorization&quot;: &quot;Bearer &quot; + token 
} 
 
res = requests.get(url=playlistUrl, headers=headers) 
 
strList = json.dumps(res.json(), indent=2) 
 
class Song(): 
    def __init__(self, artist, titel): 
        self.artist = artist 
        self.titel = titel 
 
print(strList) 
'''</span>

<span class="s1">house_price = pd.read_csv(</span><span class="s2">&quot;HOUSE_PRICES.csv&quot;</span><span class="s1">).replace(</span><span class="s2">' '</span><span class="s0">, </span><span class="s2">''</span><span class="s1">)</span>

<span class="s1">og_house_price = house_price</span>
<span class="s1">print(og_house_price.columns)</span>
<span class="s1">print(og_house_price.to_string())</span>
<span class="s0">def </span><span class="s1">graph_nordic(house_price</span><span class="s0">, </span><span class="s1">indicator):</span>
    <span class="s1">house_price = house_price</span>
    <span class="s1">indicator = indicator</span>
    <span class="s1">rent_price = house_price.loc[house_price[</span><span class="s2">&quot;Indicator&quot;</span><span class="s1">] == indicator]</span>
    <span class="s1">rent_price = rent_price.loc[</span><span class="s3">0</span><span class="s1">:</span><span class="s0">, </span><span class="s1">[</span><span class="s2">&quot;Country&quot;</span><span class="s0">, </span><span class="s2">&quot;Time&quot;</span><span class="s0">, </span><span class="s2">&quot;Value&quot;</span><span class="s1">]]</span>
    <span class="s1">rent_price[</span><span class="s2">&quot;Rent prices&quot;</span><span class="s1">] = rent_price[</span><span class="s2">&quot;Value&quot;</span><span class="s1">]</span>
    <span class="s1">rent_price[</span><span class="s2">&quot;Rent prices&quot;</span><span class="s1">] = rent_price[</span><span class="s2">&quot;Rent prices&quot;</span><span class="s1">]-</span><span class="s3">4</span>
    <span class="s1">rent_price[[</span><span class="s2">&quot;Quarter&quot;</span><span class="s0">, </span><span class="s2">&quot;Year&quot;</span><span class="s1">]] = rent_price[</span><span class="s2">&quot;Time&quot;</span><span class="s1">].str.split(</span><span class="s2">&quot;-&quot;</span><span class="s0">, </span><span class="s1">expand=</span><span class="s0">True</span><span class="s1">)</span>
    <span class="s1">rent_price = rent_price.loc[house_price[</span><span class="s2">&quot;Country&quot;</span><span class="s1">].isin([</span><span class="s2">&quot;Sweden&quot;</span><span class="s0">, </span><span class="s2">&quot;Norway&quot;</span><span class="s0">, </span><span class="s2">&quot;Finland&quot;</span><span class="s0">, </span><span class="s2">&quot;Denmark&quot;</span><span class="s1">])]</span>

    <span class="s0">return </span><span class="s1">rent_price</span>

<span class="s1">fig</span><span class="s0">, </span><span class="s1">axes = plt.subplots(nrows=</span><span class="s3">1</span><span class="s0">, </span><span class="s1">ncols=</span><span class="s3">2</span><span class="s0">, </span><span class="s1">figsize=(</span><span class="s3">20</span><span class="s0">, </span><span class="s3">20</span><span class="s1">))</span>

<span class="s1">sns.set(font_scale=</span><span class="s3">2</span><span class="s1">)</span>
<span class="s1">g1=sns.lineplot(ax=axes[</span><span class="s3">0</span><span class="s1">]</span><span class="s0">, </span><span class="s1">data=graph_nordic(og_house_price</span><span class="s0">, </span><span class="s2">&quot;Rent prices, s.a.&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">x=</span><span class="s2">&quot;Time&quot;</span><span class="s0">, </span><span class="s1">y=</span><span class="s2">&quot;Rent prices&quot;</span><span class="s0">, </span><span class="s1">hue=</span><span class="s2">&quot;Country&quot;</span><span class="s1">)</span>
<span class="s1">g2=sns.lineplot(ax=axes[</span><span class="s3">1</span><span class="s1">]</span><span class="s0">, </span><span class="s1">data=graph_nordic(og_house_price</span><span class="s0">, </span><span class="s2">&quot;Real house price indices, s.a.&quot;</span><span class="s1">)</span><span class="s0">, </span><span class="s1">x=</span><span class="s2">&quot;Time&quot;</span><span class="s0">, </span><span class="s1">y=</span><span class="s2">&quot;Rent prices&quot;</span><span class="s0">, </span><span class="s1">hue=</span><span class="s2">&quot;Country&quot;</span><span class="s1">)</span>
<span class="s1">g1.set(title=</span><span class="s2">&quot;House price development of the Nordic countries</span><span class="s0">\n </span><span class="s2">between Q2 of 2019 - Q3 of 2022&quot;</span><span class="s1">)</span>
<span class="s1">g2.set(title =</span><span class="s2">&quot;Rent price development of the Nordic countries</span><span class="s0">\n </span><span class="s2">between Q2 of 2019 - Q3 of 2022&quot;</span><span class="s1">)</span>
<span class="s1">plt.show()</span></pre>
</body>
</html>